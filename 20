# 1.
def product_of_numbers(filename):
    with open(filename, 'r') as f:
        product = 1
        for line in f:
            for num in line.split():
                product *= float(num)
    return product
# 2.
def positive_then_negative(f_filename, g_filename):
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    positives = [n for n in numbers if n > 0]
    negatives = [n for n in numbers if n < 0]
    with open(g_filename, 'w') as g:
        for num in positives + negatives:
            g.write(str(num) + ' ')
# 3. 
def perfect_squares(f_filename, g_filename):
    import math
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    squares = []
    for num in numbers:
        root = int(math.sqrt(abs(num)))
        if root * root == num:
            squares.append(num)
    with open(g_filename, 'w') as g:
        for num in squares:
            g.write(str(num) + ' ')
# 4.
def sum_min_max(filename):
    with open(filename, 'r') as f:
        numbers = list(map(float, f.read().split()))
    return max(numbers) + min(numbers)
# 5. 
def min_year(filename):
    with open(filename, 'r') as f:
        min_year = float('inf')
        for line in f:
            parts = line.split()
            if len(parts) >= 3:
                year = int(parts[2])
                if year < min_year:
                    min_year = year
    return min_year
# 6. 
def count_even(filename):
    with open(filename, 'r') as f:
        numbers = list(map(int, f.read().split()))    return sum(1 for n in numbers if n % 2 == 0)
# 7.
def check_first_two_digits(filename):
    with open(filename, 'r') as f:
        first_chars = f.read(2)
    if first_chars.isdigit():
        num = int(first_chars)
        return True, num % 2 == 0
    return False, False
# 8. 
def even_numbers(f_filename, g_filename):
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    evens = [n for n in numbers if n % 2 == 0]
    with open(g_filename, 'w') as g:
        for num in evens:
            g.write(str(num) + ' ')
# 9. 
def max_abs_odd_positions(filename):
    with open(filename, 'r') as f:
        numbers = list(map(float, f.read().split()))
    max_abs = 0
    for i in range(0, len(numbers), 2):  # индексация с 0
        if abs(numbers[i]) > max_abs:
            max_abs = abs(numbers[i])
    return max_abs
# 10. 
def spring_dates(filename):
    with open(filename, 'r') as f:
        spring = []
        for line in f:
            parts = line.split()
            if len(parts) >= 3:
                month = int(parts[1])
                if 3 <= month <= 5:
                    spring.append(line.strip())
    return spring
# 11. 
def divisible_by_3_not_7(f_filename, g_filename):
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    result = [n for n in numbers if n % 3 == 0 and n % 7 != 0]
    with open(g_filename, 'w') as g:
        for num in result:
            g.write(str(num) + ' ')
# 12. 
def min_even_positions(filename):
    with open(filename, 'r') as f:
        numbers = list(map(float, f.read().split()))
    min_val = float('inf')
    for i in range(1, len(numbers), 2):  # индексация с 0
        if numbers[i] < min_val:
            min_val = numbers[i]
    return min_val
# 13. 
def separate_even_odd(f_filename, g_filename, h_filename):
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    evens = [n for n in numbers if n % 2 == 0]
    odds = [n for n in numbers if n % 2 != 0]
    with open(g_filename, 'w') as g:
        for num in evens:
            g.write(str(num) + ' ')
    with open(h_filename, 'w') as h:
        for num in odds:
            h.write(str(num) + ' ')
# 14. 
def alternate_signs(f_filename, g_filename):
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    positives = [n for n in numbers if n > 0]
    negatives = [n for n in numbers if n < 0]
    result = []
    i, j = 0, 0
    while i < len(positives) or j < len(negatives):
        if result and ((result[-1] > 0 and positives and i < len(positives)) or 
                      (result[-1] < 0 and negatives and j < len(negatives))):
            if result[-1] > 0 and j < len(negatives):
                result.append(negatives[j])
                j += 1
            elif result[-1] < 0 and i < len(positives):
                result.append(positives[i])
                i += 1
        else:
            if i < len(positives):
                result.append(positives[i])
                i += 1
            elif j < len(negatives):
                result.append(negatives[j])
                j += 1
    with open(g_filename, 'w') as g:
        for num in result:
            g.write(str(num) + ' ')
# 15. 
    with open(f_filename, 'r') as f:
        numbers = list(map(int, f.read().split()))
    positives = [n for n in numbers if n > 0]
    negatives = [n for n in numbers if n < 0]
    result = []
    for i in range(0, len(positives), 2):
        if i + 1 < len(positives) and i // 2 < len(negatives) // 2:
            result.append(positives[i])
            result.append(positives[i + 1])
            result.append(negatives[i])
            result.append(negatives[i + 1])
    with open(g_filename, 'w') as g:
        for num in result:
            g.write(str(num) + ' ')
